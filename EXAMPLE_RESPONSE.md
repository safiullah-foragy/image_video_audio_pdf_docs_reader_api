# Example API Response

This file shows a real example of what the API returns after processing a document.

## Example Request

```bash
curl -X POST http://localhost:3000/api/extract \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://example.com/invoice.pdf"
  }'
```

## Example Response

```json
{
  "success": true,
  "extractedText": "INVOICE\n\nInvoice Number: INV-2025-001234\nDate: November 30, 2025\n\nBill To:\nJohn Doe\n123 Main Street\nNew York, NY 10001\n\nDescription                  Quantity    Price      Total\n-----------------------------------------------------------\nWeb Development Services        40hrs    $150/hr    $6,000.00\nUI/UX Design                   20hrs    $120/hr    $2,400.00\nProject Management             10hrs    $100/hr    $1,000.00\n-----------------------------------------------------------\nSubtotal:                                           $9,400.00\nTax (8%):                                             $752.00\n-----------------------------------------------------------\nTotal Due:                                         $10,152.00\n\nPayment Terms: Net 30\nDue Date: December 30, 2025\n\nThank you for your business!",
  
  "aiExplanation": "This is a professional service invoice document issued for freelance or consulting work. The invoice details multiple service categories including web development, UI/UX design, and project management services. The document follows standard invoicing practices with clear line-item breakdowns showing hourly rates and quantities worked.\n\nThe invoice structure indicates a professional business relationship where services are billed on an hourly basis. The web development component represents the largest portion of the work at 40 hours, suggesting this was the primary focus of the project. The inclusion of design and project management services indicates a comprehensive engagement.\n\nThe total amount of $10,152.00 (including 8% tax) is due within 30 days, following standard Net 30 payment terms common in professional services. The invoice number format (INV-2025-001234) suggests an established business with systematic invoice tracking. This document serves as both a payment request and a record of services rendered for both accounting and legal purposes.",
  
  "summary": "Professional services invoice #INV-2025-001234 dated November 30, 2025, billing John Doe for 70 hours of combined web development, UI/UX design, and project management services totaling $10,152.00 (including tax), with payment due by December 30, 2025.",
  
  "keyPoints": [
    "Invoice number INV-2025-001234 issued to John Doe",
    "Total amount due: $10,152.00 (including 8% tax of $752.00)",
    "Services breakdown: 40hrs web development ($6,000), 20hrs UI/UX design ($2,400), 10hrs project management ($1,000)",
    "Payment terms: Net 30 days, due by December 30, 2025",
    "Hourly rates ranging from $100-$150 depending on service type"
  ],
  
  "metadata": {
    "originalName": "invoice.pdf",
    "fileType": "pdf",
    "processedAt": "2025-11-30T16:45:23.891Z",
    "aiModel": "gpt-4-turbo-preview",
    "tokensUsed": 856
  }
}
```

## What Each Field Means

### `extractedText`
The raw text extracted directly from the file using OCR (for images/videos) or parsing (for PDFs/docs). This is exactly what was found in the original document without any interpretation.

### `aiExplanation`
A comprehensive analysis generated by OpenAI GPT-4 that:
- Explains what the document is and its purpose
- Provides context about the content
- Identifies important patterns or insights
- Explains the significance or implications
- Adds professional interpretation

### `summary`
A concise 2-3 sentence summary that captures the essence of the content. Perfect for quick scanning or indexing.

### `keyPoints`
Bullet-point highlights of the most important information. These are actionable insights or critical data points extracted from the content.

### `metadata`
Technical information about the processing:
- `originalName`: The file name
- `fileType`: Category (image, video, audio, pdf, doc, text)
- `processedAt`: When the processing completed
- `aiModel`: Which OpenAI model was used
- `tokensUsed`: API usage for cost tracking

## Cost Breakdown for This Example

**Token Usage**: 856 tokens total
- Estimated input tokens: ~600 (extracted text)
- Estimated output tokens: ~256 (AI response)

**Approximate Cost** (GPT-4 Turbo):
- Input: 600 Ã— $0.00001 = $0.006
- Output: 256 Ã— $0.00003 = $0.008
- **Total: ~$0.014** (about 1.4 cents)

## Example with Image (Screenshot)

### Request
```bash
curl -X POST http://localhost:3000/api/extract \
  -F "file=@error_screenshot.png"
```

### Response
```json
{
  "success": true,
  "extractedText": "Error: Connection Timeout\n\nThe server at api.example.com failed to respond.\n\nDetails:\n- Error Code: 504\n- Timestamp: 2025-11-30 14:23:45\n- Request ID: req_8x7y9z\n\nPossible causes:\nâ€¢ Server is down\nâ€¢ Network connectivity issues\nâ€¢ Firewall blocking the request\n\nRecommended actions:\n1. Check your internet connection\n2. Verify the server status\n3. Contact support if the issue persists",
  
  "aiExplanation": "This is an error message screenshot indicating a connection timeout issue with an API server. The 504 error code is a standard HTTP status code that specifically means 'Gateway Timeout,' which occurs when a server acting as a gateway or proxy doesn't receive a timely response from an upstream server.\n\nThe error message is well-structured and provides helpful diagnostic information including the timestamp and request ID (req_8x7y9z), which would be useful for technical support to investigate the issue. The message thoughtfully includes both potential causes and recommended troubleshooting steps, following good UX practices for error handling.\n\nThis type of error typically indicates infrastructure or network problems rather than issues with the client's request itself. The presence of a request ID suggests this is from a production system with proper logging and monitoring in place.",
  
  "summary": "Screenshot of a 504 Gateway Timeout error from api.example.com at 14:23:45, including request ID req_8x7y9z and troubleshooting recommendations for resolving the connection issue.",
  
  "keyPoints": [
    "Error type: 504 Gateway Timeout",
    "Failed server: api.example.com",
    "Occurred at: November 30, 2025 at 14:23:45",
    "Request tracking ID: req_8x7y9z",
    "Troubleshooting steps provided: check connection, verify server status, contact support"
  ],
  
  "metadata": {
    "originalName": "error_screenshot.png",
    "fileType": "image",
    "processedAt": "2025-11-30T16:52:18.234Z",
    "aiModel": "gpt-4-turbo-preview",
    "tokensUsed": 445
  }
}
```

## Example with Video

### Request
```bash
curl -X POST http://localhost:3000/api/extract \
  -H "Content-Type: application/json" \
  -d '{"url": "https://example.com/tutorial.mp4"}'
```

### Response (Simplified)
```json
{
  "success": true,
  "extractedText": "=== VIDEO CONTENT EXTRACTION ===\n\n--- Audio Transcription ---\nAudio extracted to: /temp/audio.mp3\nNote: Speech-to-text transcription requires external API\n\n--- Frame Text Extraction (OCR) ---\n[Frame 1]: How to Deploy to Render.com\n[Frame 2]: Step 1: Create Account\n[Frame 3]: Step 2: Connect GitHub\n[Frame 4]: Step 3: Configure Build\n[Frame 5]: Step 4: Add Environment Variables\n[Frame 6]: Step 5: Deploy!\n...",
  
  "aiExplanation": "This is an instructional video tutorial that guides viewers through the process of deploying an application to Render.com, a cloud platform service. The tutorial is structured as a step-by-step guide, breaking down the deployment process into five clear phases: account creation, GitHub repository connection, build configuration, environment variable setup, and final deployment.\n\nThe sequential frame-by-frame analysis shows a methodical approach to teaching, with each frame representing a discrete step in the process. This format is typical of technical tutorials where clarity and step-by-step progression are important for learner comprehension. The tutorial appears designed for developers who are new to Render.com but have basic understanding of Git and deployment concepts.\n\nThe tutorial's structure suggests it's approximately 5-10 minutes in length, covering the essential workflow for a first-time deployment. This type of content is valuable for onboarding developers to new platforms and reducing the learning curve for cloud deployment tools.",
  
  "summary": "Video tutorial demonstrating how to deploy applications to Render.com in five steps: account setup, GitHub integration, build configuration, environment variables, and deployment execution.",
  
  "keyPoints": [
    "Tutorial subject: Deploying to Render.com platform",
    "Five-step process: Account, GitHub, Build, Environment, Deploy",
    "Target audience: Developers new to Render.com",
    "Format: Step-by-step instructional video",
    "Note: Audio transcription not available (requires additional API integration)"
  ],
  
  "metadata": {
    "originalName": "tutorial.mp4",
    "fileType": "video",
    "processedAt": "2025-11-30T17:05:42.567Z",
    "aiModel": "gpt-4-turbo-preview",
    "tokensUsed": 623,
    "frameCount": 15,
    "audioText": "Audio extraction completed but transcription requires external API"
  }
}
```

## Benefits of AI Explanation

### Without AI (just extracted text):
You get raw text like "Invoice #12345, $500, Due Dec 30"

### With AI Explanation:
You get:
- âœ… Context: "This is a professional services invoice"
- âœ… Insights: "Largest component is web development at 40 hours"
- âœ… Understanding: "Follows standard Net 30 payment terms"
- âœ… Actionable info: "Payment due by December 30, 2025"
- âœ… Professional interpretation of the document's purpose

This is the **"ultimate explanation"** you requested! ðŸŽ¯
